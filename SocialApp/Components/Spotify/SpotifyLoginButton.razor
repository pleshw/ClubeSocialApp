@inject NavigationManager NavigationManager
﻿
<button disabled="@Loading" @onclick="ChallengeSpotify" href="challenge-spotify" class="btn btn-spotify bg-spotify-green shadow">
    @if (Loading)
    {
        <div class="row justify-content-center align-content-center w-100 m-0 p-1">
            <div class="rotate-infinity" style="border-width: 0.3em; border-style: solid; border-color: var(--spotify-black) rgb(243, 243, 243) rgb(243, 243, 243); border-image: initial; border-radius: 50%; width: 2em; height: 2em; display: inline-block;">
            </div>
        </div>
    }
    else
    {
        <div class="col-3 p-1">
            <img class="img-fluid" style="image-rendering: optimizeQuality!important;" src="icons/spotify-icon-black-nobg.png" />
        </div>
        <div class="col-9">
            <span class="m-0 text-spotify-black fw-bolder text-center">
                Entrar com Spotify
            </span>
        </div>
    }
</button>


@code
{
    [Parameter]
    public required bool Loading { get; set; }

    public void ChallengeSpotify()
    {
        NavigationManager.NavigateTo("challenge-spotify", true);
    }


    protected override async Task OnParametersSetAsync()
    {
        await base.OnParametersSetAsync();
        await InvokeAsync(StateHasChanged);
    }
}